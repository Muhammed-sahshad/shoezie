<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SHOEZIE - Product View</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="/styles/user/partials/navbar.css">

    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f4f4f4;
        }

        .container {
            display: flex;
            margin-top: 20px;
        }

        .thumbnails {
            width: 20%; /* Set width for thumbnails */
            margin-right: 20px;
            display: flex;
            flex-direction: column;
            justify-content: center; /* Vertically center thumbnails */
        }

        .thumbnail {
            cursor: pointer;
            margin-bottom: 20px; /* Increased gap between thumbnails */
            width: 85px; /* Fixed width for thumbnails */
            height: 85px; /* Fixed height for thumbnails */
            border: 1px solid rgb(222, 218, 218);
            border-radius: 10px;
        }

        .main-image {
            width: 30%; /* Set width for main image */
            display: flex;
            align-items: center; /* Vertically center */
            justify-content: center; /* Horizontally center */
        }

        .product-image {
            max-height: 350px;
            object-fit: cover;
            width: 100%; /* Full width for the main image */
        }

        .product-details {
            width: 40%; /* Reduced width by 20% from 50% to 40% */
            margin-top: 20px;
            margin-left: auto; /* Move it to the right */
        }

        

        .price {
            font-weight: bold;
            font-size: 1.2em; /* Reduced size for price */
            margin: 0; /* Removed margin */
        }

        .description {
            font-size: 0.9em; /* Smaller font size for description */
            color: #666; /* Lighter color for description */
        }

        .line {
            border-top: 1px solid #ccc;
            margin: 15px 0;
        }

        .size-button {
            margin: 5px;
        }

        .related-products {
            margin-top: 60px;
            padding-bottom: 100px;
            position: relative; /* For absolute positioning of buttons */
        }

        .related-products h4 {
            text-align: left; /* Align the heading to the left */
            margin-bottom: 20px; /* Spacing below heading */
            margin-left: 80px;
        }

        .related-products-wrapper {
            display: flex;
            justify-content: center; /* Center the cards */
            overflow: hidden; /* Hide scrollbar */
            position: relative; /* To position buttons */
        }

        .related-product {
            border: 1px solid #ccc;
            border-radius: 5px;
            padding: 5px; /* Reduced padding */
            text-align: left; /* Align text to left */
            width: 170px; /* Fixed width */
            margin: 0 20px; /* Increased spacing between cards */
            flex: none; /* Prevent shrinking */
        }

        .related-product img {
            width: 100%; /* Full width for related product images */
            height: 170px; /* Set height to make square */
            object-fit: cover; /* Maintain aspect ratio */
        }

        .related-product h5 {
            font-size: 0.9em; /* Reduced size for product name */
            margin-top: 10px;
        }

        .related-product .price {
            font-size: 0.8em; /* Reduced size for price */
            margin: 0; /* Removed margin */
        }

        .rating {
            color: #ffcc00; /* Gold color for rating stars */
            font-size: 0.8em; /* Smaller font size for rating */
            margin: 0; /* Removed margin */
        }

        .scroll-button {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background-color: rgba(255, 255, 255, 0.8);
            border: none;
            cursor: pointer;
            padding: 10px;
            z-index: 1;
            /* Adjusted button size */
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .scroll-left {
            left: 80px; /* Moved in by 100px */
        }

        .scroll-right {
            right: 80px; /* Moved in by 100px */
        }
    </style>
</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg">
    <a class="navbar-brand" href="#">SHOEZIE</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav">
            <li class="nav-item"><a class="nav-link" href="../home">Home</a></li>
            <li class="nav-item"><a class="nav-link" href="../shop">Shop</a></li>
            <li class="nav-item"><a class="nav-link" href="about">About</a></li>
            <li class="nav-item"><a class="nav-link" href="login">Sign In</a></li>
        </ul>
        <form class="form-inline ml-auto search-container">
            <input class="form-control mr-2" type="search" placeholder="Search">
            <button class="btn" type="submit"><i class="fas fa-search"></i></button>
        </form>
        <div class="ml-3 icons">
            <a href="/favorites" class="icon pr-3"><i class="fas fa-heart"></i></a>
            <a href="/cart" class="icon pr-3"><i class="fas fa-shopping-cart"></i></a>
            <a href="/user" class="icon"><i class="fas fa-user"></i></a>
        </div>
    </div>
</nav>

<!-- Product View Section -->
<div class="container">
    <% if(product){%>
        <div class="thumbnails"> <!-- Thumbnails column -->
            <% product.imageUrls.forEach((url,index)=>{ %>

           <img src="<%= url %>" class="thumbnail" alt="Thumbnail 1" onclick="changeMainImage('<%=url %>')">

           <% }) %>
        </div>
    
        <div class="main-image"> <!-- Main product image column -->
            <img id="mainImage" src="<%= product.imageUrls[0]%>" class="product-image" alt="Product Image">
        </div>
    
        <div class="product-details"> <!-- Product details column -->
            <h5 class="card-title"><%= product.name %></h5>
            
            <!-- Rating Section -->
            <div>
                <span class="text-warning">
                    ★★★★☆ (4.0)
                </span>
            </div>
    
            <p class="price">₹ <%= product.price %></p>
            <div class="line"></div>
            
            <!-- Select Color Section -->
            <label>Select Color:</label>
            <div>
                <span class="badge badge-primary" style="cursor: pointer;">Blue</span>
                <span class="badge badge-danger" style="cursor: pointer;">Red</span>
                <span class="badge badge-success" style="cursor: pointer;">Green</span>
            </div>
            <div class="line"></div>
    
            <!-- Sizes Section -->
            <label>Available Sizes:</label>
            <div>
                <button class="btn btn-outline-secondary size-button">UK 8</button>
                <button class="btn btn-outline-secondary size-button">UK 8.5</button>
                <button class="btn btn-outline-secondary size-button">UK 9</button>
            </div>
    
            <div class="line"></div>
            
            <!-- Product Description -->
            <p class="description"><%= product.description %></p>
            
            <div class="line"></div> <!-- Line under description -->
    
            <!-- Action Buttons -->
            <div>
                <button class="btn btn-primary">Add To Cart</button>
                <button class="btn btn-secondary">Add To Fav</button>
            </div>
        </div>
    <%} %>  
</div>

<!-- You Might Also Like Section -->
<div class="related-products">
    <h4>You Might Also Like</h4>
    <div class="related-products-wrapper">
        <button class="scroll-button scroll-left" onclick="scrollLeft()">&#10094;</button>
        <div class="related-product">
            <img src="https://via.placeholder.com/150" alt="Related Product 1">
            <h5>Related Product 1</h5>
            <p class="rating">★★★★☆ (4.0)</p>
            <p class="price">₹ 1,999</p>
        </div>
        <div class="related-product">
            <img src="https://via.placeholder.com/150" alt="Related Product 2">
            <h5>Related Product 2</h5>
            <p class="rating">★★★☆☆ (3.5)</p>
            <p class="price">₹ 2,199</p>
        </div>
        <div class="related-product">
            <img src="https://via.placeholder.com/150" alt="Related Product 3">
            <h5>Related Product 3</h5>
            <p class="rating">★★★★☆ (4.0)</p>
            <p class="price">₹ 2,399</p>
        </div>
        <div class="related-product">
            <img src="https://via.placeholder.com/150" alt="Related Product 4">
            <h5>Related Product 4</h5>
            <p class="rating">★★★★☆ (4.0)</p>
            <p class="price">₹ 2,599</p>
        </div>
        <div class="related-product">
            <img src="https://via.placeholder.com/150" alt="Related Product 5">
            <h5>Related Product 5</h5>
            <p class="rating">★★★☆☆ (3.0)</p>
            <p class="price">₹ 1,299</p>
        </div>
        <button class="scroll-button scroll-right" onclick="scrollRight()">&#10095;</button>
    </div>
</div>

<!-- Bootstrap JS and dependencies -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

<script>
    function changeMainImage(imageUrl) {
        document.getElementById('mainImage').src = imageUrl;
    }

    function scrollLeft() {
        const wrapper = document.querySelector('.related-products-wrapper');
        wrapper.scrollBy({ left: -160, behavior: 'smooth' });
    }

    function scrollRight() {
        const wrapper = document.querySelector('.related-products-wrapper');
        wrapper.scrollBy({ left: 160, behavior: 'smooth' });
    }
</script>
</body>
</html>
